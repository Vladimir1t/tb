<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Catalog</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –Ω–∞–∑–∞–¥ -->
        <div class="page-header" id="pageHeader" style="display: none;">
            <div class="back-button" id="backButton">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 12H6m6-7-7 7 7 7"/>
                </svg>
            </div>
            <h2 id="pageTitle">–ü–æ–∏—Å–∫</h2>
        </div>

        <!-- –ü–æ–∏—Å–∫–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π) -->
        <div class="search-container" id="searchContainer">
            <div class="search-bar">
                <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.35-4.35"></path>
                </svg>
                <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –∫–∞–Ω–∞–ª–æ–≤, –±–æ—Ç–æ–≤, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π..." />
            </div>
            <button class="filter-btn" id="filterBtn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="4" x2="4" y1="21" y2="14"></line>
                    <line x1="4" x2="4" y1="10" y2="3"></line>
                    <line x1="12" x2="12" y1="21" y2="12"></line>
                    <line x1="12" x2="12" y1="8" y2="3"></line>
                    <line x1="20" x2="20" y1="21" y2="16"></line>
                    <line x1="20" x2="20" y1="12" y2="3"></line>
                    <line x1="1" x2="7" y1="14" y2="14"></line>
                    <line x1="9" x2="15" y1="8" y2="8"></line>
                    <line x1="17" x2="23" y1="16" y2="16"></line>
                </svg>
            </button>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–æ–∫ -->
        <div class="tab-content active" id="search-tab">
            <!-- –ë–ª–æ–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ -->
            <div class="content-sections">
                <div class="content-section" id="channels-section">
                    <div class="section-header" data-type="channel">
                        <h3>üì∫ –ö–∞–Ω–∞–ª—ã</h3>
                        <svg class="arrow-right" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M6 9l6 6 6-6"/>
                        </svg>
                    </div>
                    <div class="content-grid" id="channelsContent">
                        <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞–Ω–∞–ª–æ–≤...</div>
                    </div>
                </div>

                <div class="content-section" id="bots-section">
                    <div class="section-header" data-type="bot">
                        <h3>ü§ñ –ë–æ—Ç—ã</h3>
                        <svg class="arrow-right" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M6 9l6 6 6-6"/>
                        </svg>
                    </div>
                    <div class="content-grid" id="botsContent">
                        <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –±–æ—Ç–æ–≤...</div>
                    </div>
                </div>

                <div class="content-section" id="apps-section">
                    <div class="section-header" data-type="mini_app">
                        <h3>üì± –ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h3>
                        <svg class="arrow-right" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M6 9l6 6 6-6"/>
                        </svg>
                    </div>
                    <div class="content-grid" id="appsContent">
                        <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π...</div>
                    </div>
                </div>
            </div>
            
            <div class="categories-section">
                <h3>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
                <div class="categories-grid" id="categoriesGrid"></div>
            </div>
        </div>

        <div class="tab-content" id="recommendations-tab">
            <div class="recommendations-section">
                <h3>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h3>
                <p class="recommendations-subtitle">–ù–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤</p>
                <div id="recommendationsContent">
                    <div class="loading">–ü–æ–¥–±–∏—Ä–∞–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏...</div>
                </div>
            </div>
        </div>

        <div class="tab-content" id="settings-tab">
            <!-- –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
            <div class="settings-profile-section">
                <div class="settings-profile-avatar">
                    <img id="userAvatar" src="" alt="Avatar" class="avatar-img">
                    <div id="userInitials" class="avatar-initials"></div>
                </div>
                <div class="settings-profile-name">
                    <h2 id="userName" class="profile-name">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</h2>
                </div>
            </div>

            <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
            <div class="settings-section">
                <div class="settings-item" onclick="handleSettingsClick('notifications')">
                    <div class="settings-item-icon">üîî</div>
                    <div class="settings-item-content">
                        <div class="settings-item-title">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</div>
                        <div class="settings-item-subtitle">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</div>
                    </div>
                    <div class="settings-item-arrow">‚Ä∫</div>
                </div>
                
                <div class="settings-item" onclick="handleSettingsClick('theme')">
                    <div class="settings-item-icon">üåô</div>
                    <div class="settings-item-content">
                        <div class="settings-item-title">–¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è</div>
                        <div class="settings-item-subtitle">–°–≤–µ—Ç–ª–∞—è/—Ç–µ–º–Ω–∞—è —Ç–µ–º–∞</div>
                    </div>
                    <div class="settings-item-arrow">‚Ä∫</div>
                </div>
                
                <div class="settings-item" onclick="handleSettingsClick('language')">
                    <div class="settings-item-icon">üåê</div>
                    <div class="settings-item-content">
                        <div class="settings-item-title">–Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</div>
                        <div class="settings-item-subtitle">–†—É—Å—Å–∫–∏–π</div>
                    </div>
                    <div class="settings-item-arrow">‚Ä∫</div>
                </div>
            </div>

            <!-- –°–ø—Ä–∞–≤–∫–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ -->
            <div class="help-section">
                <h3>–°–ø—Ä–∞–≤–∫–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞</h3>
                <div class="settings-item" onclick="handleSettingsClick('support')">
                    <div class="settings-item-icon">ü§ñ</div>
                    <div class="settings-item-content">
                        <div class="settings-item-title">–ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏</div>
                        <div class="settings-item-subtitle">–°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π</div>
                    </div>
                    <div class="settings-item-arrow">‚Ä∫</div>
                </div>
                
                <div class="settings-item" onclick="handleSettingsClick('faq')">
                    <div class="settings-item-icon">‚ùì</div>
                    <div class="settings-item-content">
                        <div class="settings-item-title">FAQ</div>
                        <div class="settings-item-subtitle">–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</div>
                    </div>
                    <div class="settings-item-arrow">‚Ä∫</div>
                </div>
                
                <div class="settings-item" onclick="handleSettingsClick('privacy')">
                    <div class="settings-item-icon">üìù</div>
                    <div class="settings-item-content">
                        <div class="settings-item-title">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</div>
                        <div class="settings-item-subtitle">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</div>
                    </div>
                    <div class="settings-item-arrow">‚Ä∫</div>
                </div>
            </div>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –ø–æ–¥–≥—Ä—É–∑–∫–æ–π -->
        <div class="tab-content" id="category-tab" style="display: none;">
            <div id="categoryContent">
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>

        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞/—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ -->
        <div class="tab-content" id="results-tab" style="display: none;">
            <div id="resultsContent"></div>
        </div>
    </div>

    <!-- –ù–∏–∂–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∏ -->
    <div class="bottom-tabs">
        <div class="bottom-tab active" data-tab="search">
            <div class="tab-icon-container">
                <svg class="tab-icon compass-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"/>
                    <polygon points="16.24,7.76 14.12,14.12 7.76,16.24 9.88,9.88"/>
                </svg>
            </div>
            <span>–ü–æ–∏—Å–∫</span>
        </div>
        <div class="bottom-tab" data-tab="recommendations">
            <div class="tab-icon-container">
                <svg class="tab-icon checkmark-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20 6 9 17l-5-5"/>
                </svg>
            </div>
            <span>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</span>
        </div>
        <div class="bottom-tab" data-tab="settings">
            <div class="tab-icon-container">
                <svg class="tab-icon settings-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/>
                    <circle cx="12" cy="12" r="3"/>
                </svg>
            </div>
            <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ñ–∏–ª—å—Ç—Ä–∞ -->
    <div class="filter-modal" id="filterModal">
        <div class="filter-modal-content">
            <div class="filter-modal-header">
                <h3>–§–∏–ª—å—Ç—Ä—ã</h3>
                <button class="filter-modal-close" id="filterModalClose">√ó</button>
            </div>
            
            <div class="filter-section">
                <h4>–¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞</h4>
                <div class="filter-chips">
                    <label class="filter-chip">
                        <input type="radio" name="contentType" value="all" checked>
                        <span>–í—Å–µ</span>
                    </label>
                    <label class="filter-chip">
                        <input type="radio" name="contentType" value="channel">
                        <span>–ö–∞–Ω–∞–ª—ã</span>
                    </label>
                    <label class="filter-chip">
                        <input type="radio" name="contentType" value="bot">
                        <span>–ë–æ—Ç—ã</span>
                    </label>
                    <label class="filter-chip">
                        <input type="radio" name="contentType" value="mini_app">
                        <span>–ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</span>
                    </label>
                </div>
            </div>
            
            <div class="filter-section">
                <h4>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</h4>
                <div class="filter-chips">
                    <label class="filter-chip">
                        <input type="radio" name="sortBy" value="subscribers" checked>
                        <span>–ü–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º</span>
                    </label>
                    <label class="filter-chip">
                        <input type="radio" name="sortBy" value="rating">
                        <span>–ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É</span>
                    </label>
                    <label class="filter-chip">
                        <input type="radio" name="sortBy" value="date">
                        <span>–ü–æ –¥–∞—Ç–µ</span>
                    </label>
                </div>
            </div>
            
            <div class="filter-section">
                <h4>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</h4>
                <div class="filter-categories" id="filterCategories">
                    <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>
            
            <div class="filter-modal-actions">
                <button class="filter-reset-btn" id="filterResetBtn">–°–±—Ä–æ—Å</button>
                <button class="filter-apply-btn" id="filterApplyBtn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <button class="to-top-btn" id="toTopBtn">‚Üë</button>

    <!-- –û–ø—Ä–æ—Å–Ω–∏–∫ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
    <div class="survey-overlay" id="surveyOverlay" style="display: none;">
        <div class="survey-container">
            <!-- –≠–∫—Ä–∞–Ω 1: –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã -->
            <div class="survey-screen active" id="surveyScreen1">
                <div class="survey-header">
                    <h2>–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ç–µ–º—ã</h2>
                    <p class="survey-subtitle">–ú—ã –ø–æ–¥–±–µ—Ä–µ–º –¥–ª—è –≤–∞—Å –ª—É—á—à–∏–µ –∫–∞–Ω–∞–ª—ã</p>
                </div>
                
                <div class="survey-counter">
                    <span id="selectedCount">0</span>/7
                </div>
                
                <div class="survey-chips" id="mainTopicsChips">
                    <!-- –ß–∏–ø—Å—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                </div>
                
                <div class="survey-actions">
                    <button class="survey-btn survey-btn-secondary" id="surveySkipBtn">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
                    <button class="survey-btn survey-btn-primary" id="surveyNextBtn" disabled>–ì–æ—Ç–æ–≤–æ</button>
                </div>
            </div>
            
            <!-- –≠–∫—Ä–∞–Ω 2: –£—Ç–æ—á–Ω–µ–Ω–∏–µ —Ç–µ–º -->
            <div class="survey-screen" id="surveyScreen2" style="display: none;">
                <div class="survey-header">
                    <button class="survey-back-btn" id="surveyBackBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 12H6m6-7-7 7 7 7"/>
                        </svg>
                    </button>
                    <div>
                        <h2>–£—Ç–æ—á–Ω–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—ã</h2>
                        <p class="survey-subtitle">–í—ã–±–µ—Ä–∏—Ç–µ —á—Ç–æ –≤–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ</p>
                    </div>
                </div>
                
                <div class="survey-sections" id="surveySubTopics">
                    <!-- –°–µ–∫—Ü–∏–∏ –ø–æ–¥—Ç–µ–º –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                </div>
                
                <div class="survey-actions">
                    <button class="survey-btn survey-btn-primary survey-btn-full" id="surveyCompleteBtn">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/survey.js"></script>
    <script src="js/main.js"></script>
</body>
</html>